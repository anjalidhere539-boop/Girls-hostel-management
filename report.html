<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Late Entry Report | Girls Hostel</title>

<style>
    body{
        margin:0;
        font-family:Arial, sans-serif;
        background:#f4f6f8;
    }

    header{
        background:#e91e63;
        color:#fff;
        text-align:center;
        padding:20px;
    }

    .container{
        max-width:1100px;
        margin:30px auto;
        padding:20px;
    }

    .summary{
        display:flex;
        gap:20px;
        flex-wrap:wrap;
        margin-bottom:30px;
    }

    .card{
        flex:1;
        min-width:200px;
        background:#fff;
        padding:20px;
        border-radius:10px;
        box-shadow:0 4px 10px rgba(0,0,0,0.1);
        text-align:center;
    }

    .card h2{
        margin:10px 0;
        color:#e91e63;
    }

    canvas{
        background:#fff;
        border-radius:10px;
        padding:20px;
        box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }

    table{
        width:100%;
        border-collapse:collapse;
        background:#fff;
        margin-top:30px;
        box-shadow:0 4px 10px rgba(0,0,0,0.1);
    }

    th, td{
        padding:12px;
        border-bottom:1px solid #ddd;
        text-align:center;
    }

    th{
        background:#e91e63;
        color:#fff;
    }

    .late{
        color:red;
        font-weight:bold;
    }

    .ontime{
        color:green;
        font-weight:bold;
    }

    footer{
        text-align:center;
        padding:15px;
        background:#333;
        color:#fff;
        margin-top:40px;
    }
</style>
</head>

<body>

<header>
    <h1>Late Entry Report</h1>
    <p>Entry closes at 7:00 PM</p>
</header>

<div class="container">

    <!-- SUMMARY -->
    <div class="summary">
        <div class="card">
            <h3>Total Entries</h3>
            <h2 id="total">0</h2>
        </div>
        <div class="card">
            <h3>Before 7 PM</h3>
            <h2 id="ontime">0</h2>
        </div>
        <div class="card">
            <h3>After 7 PM (Late)</h3>
            <h2 id="late">0</h2>
        </div>
    </div>

    <!-- GRAPH -->
    <canvas id="chart" width="1000" height="300"></canvas>

    <!-- TABLE -->
    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Room No</th>
                <th>Coming Time</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="reportTable"></tbody>
    </table>

</div>

<footer>
    Â© 2026 Girls Hostel Management
</footer>

<script>
    // SAMPLE DATA (this will come from attendance records)
    const records = [
        {name:"Anjali", room:"101", time:"18:45"},
        {name:"Pooja", room:"102", time:"19:10"},
        {name:"Sneha", room:"103", time:"18:30"},
        {name:"Riya", room:"104", time:"19:25"},
        {name:"Kavita", room:"105", time:"18:55"}
    ];

    const closingTime = "19:00";
    let lateCount = 0;
    let onTimeCount = 0;

    const table = document.getElementById("reportTable");

    records.forEach(r=>{
        const status = r.time > closingTime ? "Late Entry" : "On Time";
        if(status === "Late Entry") lateCount++;
        else onTimeCount++;

        table.innerHTML += `
            <tr>
                <td>${r.name}</td>
                <td>${r.room}</td>
                <td>${r.time}</td>
                <td class="${status === "Late Entry" ? "late" : "ontime"}">
                    ${status}
                </td>
            </tr>
        `;
    });

    document.getElementById("total").innerText = records.length;
    document.getElementById("late").innerText = lateCount;
    document.getElementById("ontime").innerText = onTimeCount;

    // SIMPLE BAR CHART
    const canvas = document.getElementById("chart");
    const ctx = canvas.getContext("2d");

    const max = Math.max(lateCount, onTimeCount);
    const scale = 200 / max;

    ctx.fillStyle = "#4caf50";
    ctx.fillRect(200, 250 - onTimeCount * scale, 150, onTimeCount * scale);
    ctx.fillText("Before 7 PM", 220, 270);

    ctx.fillStyle = "#f44336";
    ctx.fillRect(550, 250 - lateCount * scale, 150, lateCount * scale);
    ctx.fillText("After 7 PM", 580, 270);

    ctx.fillStyle="#000";
    ctx.fillText(onTimeCount, 260, 230 - onTimeCount * scale);
    ctx.fillText(lateCount, 610, 230 - lateCount * scale);
</script>

</body>
</html>
